{"version":3,"file":"core-datepicker.min.js","sources":["../utils.js","node_modules/@nrk/simple-date-parse/index.min.js","core-datepicker.js"],"sourcesContent":["export const IS_BROWSER = typeof window !== 'undefined'\nexport const IS_ANDROID = IS_BROWSER && /(android)/i.test(navigator.userAgent) // Bad, but needed\nexport const IS_IOS = IS_BROWSER && /iPad|iPhone|iPod/.test(String(navigator.platform))\n\n// Mock HTMLElement for Node\nif (!IS_BROWSER && !global.HTMLElement) {\n  global.HTMLElement = class {}\n}\n\n/**\n* addEvent\n* @param {String} nodeName An unique ID of the event to bind - ensurnes single instance\n* @param {String} type The type of event to bind\n* @param {Function} handler The function to call on event\n* @param {Boolean|Object} options useCapture or options object for addEventListener. Defaults to false\n*/\nexport function addEvent (nodeName, type, handler, options = false, key) {\n  if (!IS_BROWSER || window[key = `event-${nodeName}-${type}`]) return // Ensure single instance\n  const node = (type === 'resize' || type === 'load') ? window : document\n  node.addEventListener(window[key] = type, (event) => (event.nodeName = nodeName) && handler(event), options)\n}\n\n/**\n* addStyle\n* @param {String} nodeName An unique ID of the event to bind - ensurnes single instance\n* @param {String} css The css to inject\n*/\nexport function addStyle (nodeName, css) {\n  const key = `style-${nodeName.toLowerCase()}`\n  const min = css.replace(/\\/\\*[^!][^*]*\\*\\//g, '').replace(/\\s*(^|[:;,{}]|$)\\s*/g, '$1')\n  document.getElementById(key) || document.head.insertAdjacentHTML('afterbegin', `<style id=\"${key}\">${min}</style>`)\n}\n\n/**\n* escapeHTML\n* @param {String} str A string with potential html tokens\n* @return {String} Escaped HTML string according to OWASP recommendation\n*/\nconst ESCAPE_MAP = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '\"': '&quot;', '/': '&#x2F;', '\\'': '&#x27;' }\nexport function escapeHTML (str) {\n  return String(str || '').replace(/[&<>\"'/]/g, (char) => ESCAPE_MAP[char])\n}\n\n/**\n* closest\n* @param {Element} element Element to traverse up from\n* @param {String} selector A selector to search for matching parents or element itself\n* @return {Element|null}  Element which is the closest ancestor matching selector\n*/\nexport const closest = (() => {\n  const proto = typeof window === 'undefined' ? {} : window.Element.prototype\n  const match = proto.matches || proto.msMatchesSelector || proto.webkitMatchesSelector\n  return proto.closest ? (el, css) => el.closest(css) : (el, css) => {\n    // IE jumps to shadow SVG DOM on clicking an SVG defined by <use>.\n    // If so, jump back to <use> element and traverse real DOM\n    if (el.correspondingUseElement) el = el.correspondingUseElement\n    for (;el; el = el.parentElement) if (match.call(el, css)) return el\n    return null\n  }\n})()\n\n/**\n* dispatchEvent - with infinite loop prevention\n* @param {Element} elem The target object\n* @param {String} name The source object(s)\n* @param {Object} detail Detail object (bubbles and cancelable is set to true)\n* @return {Boolean} Whether the event was canceled\n*/\nexport function dispatchEvent (element, name, detail = {}) {\n  const ignore = `prevent_recursive_dispatch_maximum_callstack${name}`\n  let event\n\n  if (element[ignore]) return true // We are already processing this event, so skip sending a new one\n  else element[ignore] = true // Add name to dispatching ignore\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new window.CustomEvent(name, { bubbles: true, cancelable: true, detail })\n  } else {\n    event = document.createEvent('CustomEvent')\n    event.initCustomEvent(name, true, true, detail)\n  }\n  // IE reports incorrect event.defaultPrevented\n  // but correct return value on element.dispatchEvent\n  const result = element.dispatchEvent(event)\n  element[ignore] = null // Remove name from dispatching ignore\n\n  return result // Follow W3C standard for return value\n}\n\n/**\n* getUUID\n* @return {String} A generated unique ID\n*/\nexport function getUUID () {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2, 5)\n}\n\n/**\n * throttle\n * @param {Function} callback  The new throttled function\n * @param {Number} ms The threshold of milliseconds between each callback\n */\nexport function throttle (callback, ms) {\n  let timer\n  return function (...args) {\n    if (!timer) {\n      timer = setTimeout(function () {\n        callback.apply(this, args)\n        timer = null\n      }, ms)\n    }\n  }\n}\n\n/**\n * toggleAttribute (Ponyfill for IE and Edge, fixes #299)\n * @link https://developer.mozilla.org/en-US/docs/Web/API/Element/toggleAttribute\n * @param {Element} el  Single DOM Element\n * @param {String} name The name of the attribute to be toggled\n * @param {Boolean} force Force attribute to be added or removed regardless of previous state\n */\nexport function toggleAttribute (el, name, force = !this.hasAttribute(name)) {\n  if (!force === el.hasAttribute(name)) el[force ? 'setAttribute' : 'removeAttribute'](name, '')\n  return force\n}\n\n/**\n* queryAll\n* @param {String|NodeList|Array|Element} elements A CSS selector string, nodeList, element array, or single element\n* @param {Element} context Node to look for elements within\n* @return {Element[]} Array of elements\n*/\nexport function queryAll (elements, context = document) {\n  if (elements) {\n    if (elements.nodeType) return [elements]\n    if (typeof elements === 'string') return [].slice.call(context.querySelectorAll(elements))\n    if (elements.length) return [].slice.call(elements)\n  }\n  return []\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).simpleDateParse=t()}(this,function(){\"use strict\";var D={year:\"FullYear\",month:\"Month\",week:\"Date\",day:\"Date\",hour:\"Hours\",minute:\"Minutes\",second:\"Seconds\"},w=/([+-]\\s*\\d+)\\s*(second|minute|hour|day|week|month|year)|(mon)|(tue)|(wed)|(thu)|(fri)|(sat)|(sun)/g,M=/([-\\dy]+)[-/.]([\\dm]+)[-/.]([\\dd]+)/,p=/([\\dh]+):([\\dm]+):?([\\ds]+)?/;return function(e,t){if(isFinite(e))return new Date(Number(e));var n=String(e).toLowerCase(),r=new Date(isFinite(t)&&-1===n.indexOf(\"now\")?Number(t):Date.now()),a=n.match(M)||[],o=a[1];void 0===o&&(o=\"y\");var i=a[2];void 0===i&&(i=\"m\");var s=a[3];void 0===s&&(s=\"d\");var d=n.match(p)||[],u=d[1];void 0===u&&(u=\"h\");var h=d[2];void 0===h&&(h=\"m\");var m=d[3];void 0===m&&(m=\"s\");var c={year:o,month:i,day:s,hour:u,minute:h,second:m};Object.keys(c).forEach(function(e){var t=\"month\"===e?1:0,a=String(r[\"get\"+D[e]]()+t);c[e]=c[e].replace(/[^-\\d]+/g,function(e,t,n){return t?a.substr(a.length-n.length+t,e.length):a.substr(0,Math.max(0,a.length-n.length+e.length))})-t});var f=new Date(c.year,Math.min(12,c.month+1),0).getDate();for(r.setFullYear(c.year,Math.min(11,c.month),Math.max(1,Math.min(f,c.day))),r.setHours(Math.min(24,c.hour),Math.min(59,c.minute),Math.min(59,c.second));null!==(c=w.exec(n));){var g=c[2],l=String(c[1]).replace(/\\s/g,\"\")*(\"week\"===g?7:1),v=c.slice(2).indexOf(c[0]),y=r.getDate();g?r[\"set\"+D[g]](r[\"get\"+D[g]]()+l):r.setDate(r.getDate()-(r.getDay()||7)+v),\"month\"!==g&&\"year\"!==g||y===r.getDate()||r.setDate(0)}return r}});\n//# sourceMappingURL=index.min.js.map\n","import { addStyle, closest, dispatchEvent, toggleAttribute, queryAll } from '../utils'\nimport parse from '@nrk/simple-date-parse'\n\nconst MASK = { year: '*-m-d', month: 'y-*-d', day: 'y-m-*', hour: '*:m', minute: 'h:*', second: 'h:m:*', timestamp: '*', null: '*' }\nconst KEYS = { 33: '-1month', 34: '+1month', 35: 'y-m-99', 36: 'y-m-1', 37: '-1day', 38: '-1week', 39: '+1day', 40: '+1week' }\nconst MONTHS = 'januar,februar,mars,april,mai,juni,juli,august,september,oktober,november,desember'\nconst DAYS = 'man,tirs,ons,tors,fre,lør,søn'\n\nexport default class CoreDatepicker extends HTMLElement {\n  static get observedAttributes () { return ['timestamp', 'months', 'days'] }\n\n  connectedCallback () {\n    this._date = this.date // Store for later comparison and speeding up things\n    document.addEventListener('click', this)\n    document.addEventListener('change', this)\n    document.addEventListener('keydown', this)\n    setTimeout(() => this.attributeChangedCallback()) // Render after children is parsed\n    addStyle(this.nodeName, `${this.nodeName}{display:block}`) //  default to display block\n  }\n\n  disconnectedCallback () {\n    this._date = this._disabled = null // Garbage collection\n    document.removeEventListener('click', this)\n    document.removeEventListener('change', this)\n    document.removeEventListener('keydown', this)\n  }\n\n  attributeChangedCallback () {\n    if (!this._date) return // Only render after connectedCallback\n    if (this.disabled(this.date) && !this.disabled(this._date)) return (this.date = this._date) // Jump back\n    if (this.diff(this.date)) dispatchEvent(this, 'datepicker.change', this._date = this.date)\n\n    forEach('button', this, button)\n    forEach('select', this, select)\n    forEach('input', this, input)\n    forEach('table', this, table)\n  }\n\n  handleEvent (event) {\n    if (event.defaultPrevented || event.ctrlKey || event.metaKey || event.shiftKey || event.altKey || (event.type === 'keydown' && !KEYS[event.keyCode])) return\n    if (!this.contains(event.target) && !closest(event.target, `[for=\"${this.id}\"]`)) return\n    if (event.type === 'change') this.date = MASK[event.target.getAttribute('data-type')].replace('*', event.target.value)\n    else if (event.type === 'click') {\n      const button = closest(event.target, 'button[value]')\n      const table = closest(event.target, 'table')\n      if (button) this.date = button.value\n      if (button && table) dispatchEvent(this, 'datepicker.click.day')\n    } else if (event.type === 'keydown' && closest(event.target, 'table')) {\n      this.date = KEYS[event.keyCode]\n      this.querySelector('[autofocus]').focus()\n      event.preventDefault() // Prevent scrolling\n    }\n  }\n\n  diff (val) { return this.parse(val).getTime() - this.timestamp }\n\n  parse (val, from) { return parse(val, from || this._date) }\n\n  get disabled () { return this._disabled || Function.prototype }\n\n  set disabled (fn) {\n    this._disabled = typeof fn === 'function' ? (val) => fn(this.parse(val), this) : () => fn // Auto parse dates\n    this.attributeChangedCallback() // Re-render\n  }\n\n  get timestamp () { return String(this._date.getTime()) }\n\n  // Stringify for consistency and for truthy '0'\n  get year () { return String(this._date.getFullYear()) }\n\n  get month () { return pad(this._date.getMonth() + 1) }\n\n  get day () { return pad(this._date.getDate()) }\n\n  get hour () { return pad(this._date.getHours()) }\n\n  get minute () { return pad(this._date.getMinutes()) }\n\n  get second () { return pad(this._date.getSeconds()) }\n\n  get date () { return parse(this.getAttribute('timestamp') || this._date || Date.now()) }\n\n  set date (val) { return this.setAttribute('timestamp', this.parse(val).getTime()) }\n\n  set months (val) { this.setAttribute('months', [].concat(val).join(',')) }\n\n  get months () { return (this.getAttribute('months') || MONTHS).split(/\\s*,\\s*/) }\n\n  set days (val) { this.setAttribute('days', [].concat(val).join(',')) }\n\n  get days () { return (this.getAttribute('days') || DAYS).split(/\\s*,\\s*/) }\n}\n\nconst pad = (val) => `0${val}`.slice(-2)\nconst forEach = (css, self, fn) => [].forEach.call(document.getElementsByTagName(css), (el) => {\n  if (self.contains(el) || self.id === el.getAttribute(self.external)) fn(self, el)\n})\n\nfunction button (self, el) {\n  if (!el.value) return // Skip buttons without a set value\n  el.type = 'button' // Ensure forms are not submitted by datepicker-buttons\n  el.disabled = self.disabled(el.value)\n}\n\nfunction input (self, el) {\n  const type = el.getAttribute('data-type') || el.getAttribute('type')\n\n  if (type === 'radio' || type === 'checkbox') {\n    el.disabled = self.disabled(el.value)\n    el.checked = !self.diff(el.value)\n  } else if (MASK[type]) {\n    el.setAttribute('type', 'number') // Set input type to number\n    el.setAttribute('data-type', type) // And store original type\n    el.value = self[type]\n  }\n}\n\nfunction table (self, table) {\n  if (!table.firstElementChild) {\n    table.innerHTML = `\n    <caption></caption><thead><tr>${Array(8).join('</th><th>')}</tr></thead>\n    <tbody>${Array(7).join(`<tr>${Array(8).join('<td><button type=\"button\"></button></td>')}</tr>`)}</tbody>`\n  }\n\n  const today = new Date()\n  const month = self.date.getMonth()\n  const day = self.parse('y-m-1 mon') // Monday in first week of month\n  table.caption.textContent = `${self.months[month]}, ${self.year}`\n\n  queryAll('th', table).forEach((th, day) => (th.textContent = self.days[day]))\n  queryAll('button', table).forEach((button) => {\n    const isSelected = !self.diff(day)\n    const dayInMonth = day.getDate()\n    const dayMonth = day.getMonth()\n\n    button.textContent = dayInMonth // Set textContent instead of innerHTML avoids reflow\n    button.value = `${day.getFullYear()}-${dayMonth + 1}-${dayInMonth}`\n    button.disabled = self.disabled(day)\n    button.tabIndex = isSelected - 1\n    button.setAttribute('data-adjacent', month !== dayMonth)\n    button.setAttribute('aria-label', `${dayInMonth}. ${self.months[dayMonth]}`)\n    button.setAttribute('aria-current', day.getDate() === today.getDate() && day.getMonth() === today.getMonth() && day.getFullYear() === today.getFullYear() && 'date')\n    toggleAttribute(button, 'autofocus', isSelected)\n    day.setDate(dayInMonth + 1)\n  })\n}\n\nfunction select (self, select) {\n  if (!select.firstElementChild) {\n    select._autofill = true\n    select.innerHTML = self.months.map((name, month) =>\n      `<option value=\"y-${month + 1}-d\"></option>`\n    ).join('')\n  }\n\n  queryAll(select.children).forEach((option, month) => {\n    if (select._autofill) option.textContent = self.months[month]\n    option.disabled = self.disabled(option.value)\n    option.selected = !self.diff(option.value)\n  })\n}\n"],"names":["IS_BROWSER","window","test","navigator","userAgent","String","platform","global","HTMLElement","proto","match","closest","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","el","css","correspondingUseElement","parentElement","call","dispatchEvent","element","name","event","detail","ignore","CustomEvent","bubbles","cancelable","document","createEvent","initCustomEvent","result","queryAll","elements","context","nodeType","slice","querySelectorAll","length","D","w","M","p","module","year","month","week","day","hour","minute","second","e","t","isFinite","Date","Number","n","toLowerCase","r","indexOf","now","a","o","i","s","d","u","h","m","c","Object","keys","forEach","replace","substr","Math","max","f","min","getDate","setFullYear","setHours","exec","g","l","v","y","setDate","getDay","MASK","timestamp","KEYS","CoreDatepicker","_date","this","date","addEventListener","setTimeout","_this","attributeChangedCallback","nodeName","key","getElementById","head","insertAdjacentHTML","addStyle","_disabled","removeEventListener","disabled","diff","button","select","input","table","defaultPrevented","ctrlKey","metaKey","shiftKey","altKey","type","keyCode","contains","target","id","getAttribute","value","querySelector","focus","preventDefault","val","parse","getTime","from","Function","fn","_this2","getFullYear","pad","getMonth","getHours","getMinutes","getSeconds","setAttribute","concat","join","split","self","getElementsByTagName","external","checked","firstElementChild","innerHTML","Array","today","caption","textContent","months","th","days","isSelected","dayInMonth","dayMonth","tabIndex","force","hasAttribute","toggleAttribute","_autofill","map","children","option","selected"],"mappings":"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"}